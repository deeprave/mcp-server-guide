services:
  mcp-server-guide-dev:
    build:
      context: .
      dockerfile: Dockerfile.dev
    environment:
      - MCP_LOG_LEVEL=${MCP_LOG_LEVEL:-debug}
      - TERM_WIDTH=${TERM_WIDTH:-166}
    # Uncomment for development with host mount:
    volumes:
      - .:/home/mcp/mcp-server-guide
      - mcp-venv:/home/mcp/mcp-server-guide/.venv
      - mcp-config:/home/mcp/.config/mcp-server-guide

  mcp-server-guide-prod:
    build:
      context: .
      dockerfile: Dockerfile.prod
    environment:
      - MCP_LOG_LEVEL=${MCP_LOG_LEVEL:-info}
      - TERM_WIDTH=${TERM_WIDTH:-166}
    volumes:
      - mcp-venv:/home/mcp/mcp-server-guide/.venv
      - mcp-config:/home/mcp/.config/mcp-server-guide

volumes:
  mcp-venv:
  mcp-config:

